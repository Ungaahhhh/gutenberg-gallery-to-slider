function t(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class e{constructor(e){if(t(this,"config",{control:{adjacent:!0,thumb:"image"},effect:"slider",interval:0,scope:"",target:""}),t(this,"storage",{current:0,gallery:[],interval:0,isEffectFirst:!0,itemCount:0,scope:null,target:null,temp:null,thumbItem:null}),t(this,"init",(t=>{t&&(this.config={...this.config,...t}),this.storage.temp=this.getTemp(document,"GGToSlider_temp"),this.storage.scope=this.getSelector(document,this.config.scope),this.storage.target=this.getSelectorAll(this.storage.scope,this.config.target);try{if(!(this.storage.target&&this.storage.target.length>0))throw new Error}catch(t){console.log(`${this.config.scope} or ${this.config.target} が取得できませんでした。`)}})),t(this,"getTemp",((t,e)=>t.getElementById(e).content.cloneNode(!0))),t(this,"getSelector",((t,e)=>t.querySelector(e))),t(this,"getSelectorAll",((t,e)=>t.querySelectorAll(e))),t(this,"setIndex",((t,e,s)=>{const i=this.storage.current;if(this.storage.target){const r=this.storage.target[t],o=this.storage.gallery[t];if(s)switch(s){case"reverse":this.storage.current-=e;break;case"order":this.storage.current=e;break;default:this.storage.current+=e}else this.storage.current+=e;switch(this.storage.current>=this.storage.itemCount?this.storage.current=0:this.storage.current<0&&(this.storage.current=this.storage.itemCount-1),this.config.effect){case"fade":this.storage.isEffectFirst||(r.children[i].classList.remove("fadeIn"),r.children[i].classList.add("fadeOut"),r.children[this.storage.current].classList.remove("fadeOut"),r.children[this.storage.current].classList.add("fadeIn")),this.storage.isEffectFirst=!1;break;case"slider":r.scrollLeft=r.offsetWidth*this.storage.current,setTimeout((()=>{if(this.config.control&&!0===this.config.control.adjacent){const t=this.getSelector(o,".prev"),e=this.getSelector(o,".next");t.classList.remove("disabled"),e.classList.remove("disabled")}const t=this.getSelector(o,".GGToSlider_thumb");t&&t.classList.remove("disabled")}),400)}if(this.storage.thumbItem){for(let t=0;t<this.storage.thumbItem.length;t++){const e=this.storage.thumbItem.item(t);e&&e.classList.remove("active")}const t=this.storage.thumbItem.item(this.storage.current);t&&t.classList.add("active")}}})),t(this,"setInterval",(()=>{this.storage.interval=setInterval((()=>{if(this.storage.target&&this.storage.target.length>0)for(let t=0;t<this.storage.target.length;t++)this.setIndex(t,1)}),this.config.interval)})),t(this,"abortInterval",(()=>{clearInterval(this.storage.interval)})),this.init(e),this.storage.target&&this.storage.target.length>0)for(let t=0;t<this.storage.target.length;t++){let e=this.storage.target.item(t);if(e){e.outerHTML=`<div class="GGToSlider"><div class="GGToSlider_inner">${e.outerHTML}</div></div>`,this.init(),e=this.storage.target.item(t),this.storage.gallery[t]=this.getSelectorAll(this.storage.scope,".GGToSlider").item(t);const s=this.storage.gallery[t];if(e&&s){this.config.effect&&s.classList.add(this.config.effect);const i=this.getSelector(this.storage.gallery[t],".GGToSlider_inner");if(e.classList.add("GGToSlider_target"),this.storage.itemCount=e.childElementCount,this.config.control&&"dot"===this.config.control.thumb){const s=this.getTemp(this.storage.temp,"GGToSlider_thumb_temp"),r=this.getSelector(s,".GGToSlider_thumb");r.classList.add(this.config.control.thumb);for(let s=0;s<this.storage.itemCount;s++){e.children[s].classList.add("GGToSlider_target_item");const i=this.getTemp(this.storage.temp,"GGToSlider_thumb_item_temp"),o=this.getSelector(i,".GGToSlider_thumb_item");r.appendChild(o),o.addEventListener("click",(e=>{r.classList.add("disabled"),this.setIndex(t,s,"order")}))}i.appendChild(r),this.storage.thumbItem=this.getSelectorAll(this.storage.gallery[t],".GGToSlider_thumb_item")}else if(this.config.control&&"image"===this.config.control.thumb){const r=this.getTemp(this.storage.temp,"GGToSlider_thumb_temp"),o=this.getSelector(r,".GGToSlider_thumb");o.classList.add(this.config.control.thumb);for(let s=0;s<this.storage.itemCount;s++){const i=e.children[s];i.classList.add("GGToSlider_target_item");const r=this.getTemp(this.storage.temp,"GGToSlider_thumb_item_temp"),a=this.getSelector(r,".GGToSlider_thumb_item"),l=this.getTemp(this.storage.temp,"GGToSlider_thumb_img_temp"),n=this.getSelector(l,"img");n.src=this.getSelector(i,"img").src,a.appendChild(n),o.appendChild(a),a.addEventListener("click",(e=>{o.classList.add("disabled"),this.setIndex(t,s,"order")}))}if(s.appendChild(o),this.storage.thumbItem=this.getSelectorAll(s,".GGToSlider_thumb_item"),!0===this.config.control.adjacent){const e=this.getTemp(this.storage.temp,"GGToSlider_control_temp"),s=this.getSelector(e,".prev"),r=this.getSelector(e,".next");s.dataset.targetIndex=String(t),r.dataset.targetIndex=String(t),s.addEventListener("click",(e=>{s.classList.add("disabled"),this.setIndex(t,-1)})),r.addEventListener("click",(e=>{r.classList.add("disabled"),this.setIndex(t,1)})),i.appendChild(e)}}if("fade"===this.config.effect)for(let t=0;t<this.storage.itemCount;t++){const r=e.children[t];0===t&&r.classList.add("current"),r.addEventListener("animationend",(t=>{const e=t.target;if(e.classList.contains("fadeOut")&&e.classList.remove("fadeOut"),e.classList.contains("current")&&e.classList.remove("current"),e.classList.contains("fadeIn")&&(e.classList.remove("fadeIn"),e.classList.add("current")),this.config.control&&!0===this.config.control.adjacent){const t=this.getSelector(i,".prev"),e=this.getSelector(i,".next");t.classList.remove("disabled"),e.classList.remove("disabled")}this.getSelector(s,".GGToSlider_thumb").classList.remove("disabled")}))}this.setIndex(t,0,"order"),this.config.interval&&this.config.interval>0&&(this.setInterval(),s.addEventListener("mouseenter",(()=>{this.abortInterval()})),s.addEventListener("mouseleave",(()=>{this.setInterval()})))}}}}}window.addEventListener("DOMContentLoaded",(()=>{new e({interval:4e3,scope:"#scroll",target:"ul"});new e({effect:"fade",interval:4e3,scope:"#fade",target:"ul",control:{adjacent:!0,thumb:"image"}});new e({scope:"#gutenbergGalleryToSlider",target:".wp-block-gallery"})}));
//# sourceMappingURL=index.bfbef3e2.js.map
